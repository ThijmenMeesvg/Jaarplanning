<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Bevers ‚Äì Jaarplanning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="style.css">
</head>

<body data-speltak="bevers">

<header class="topbar">
  <div class="topbar-left">
    <img class="topbar-logo"
         src="https://www.oliviervannoort.nl/images/logo-oliviervannoort-blauw-transparant.png"
         alt="Scouting Olivier van Noort logo">

    <div class="topbar-title">
      <h1>Bevers ‚Äì Jaarplanning</h1>
      <span>Planning, aanwezigheid & belangrijke info</span>
    </div>
  </div>

  <a href="index.html" class="backlink">‚Üê Terug</a>
</header>

<main class="container">

  <!-- INFO BLOK -->
  <section class="info-block">
    <h2>Belangrijke informatie</h2>
    <p id="infotekst"></p>

    <!-- Alleen zichtbaar in admin mode -->
    <textarea id="infotekst_edit" class="hidden"></textarea>
    <button id="saveInfoButton" class="hidden save-info-btn">Opslaan</button>
  </section>

  <!-- PLANNING -->
  <section class="planning-section">

    <div class="planning-header-row">
      <button id="editModeButton" class="edit-button">Bewerkmodus</button>
      <button id="addMemberButton" class="add-member-btn hidden">+ Lid</button>
      <button id="ledenbeheerButton" class="edit-button hidden">Ledenbeheer</button>

      <!-- nieuwe knoppen, alleen in admin modus zichtbaar -->
      <a id="mailboxButton"
         class="edit-button secondary hidden"
         href="https://mail.google.com/"
         target="_blank"
         rel="noopener">
        Mailbox
      </a>

      <a id="handleidingButton"
         class="edit-button secondary hidden"
         href="handleiding-mailbox.pdf"
         download>
        Handleiding mailbox (PDF)
      </a>

      <button id="instellingenButton"
              class="edit-button ghost hidden">
        Meldingen
      </button>
    </div>

    <div class="planning-controls">
      <button id="filterAll" class="active">Alle opkomsten</button>
      <button id="filterFuture">Alleen komende</button>
      <button id="filterPast">Alleen geweest</button>

      <button id="printButton" class="print-button">üñ® Print</button>
    </div>

    <div class="table-wrapper">
      <table class="planning-table">
        <thead>
        <tr id="headerRowTop"></tr>
        <tr id="headerRowBottom"></tr>
        </thead>

        <tbody id="tableBody"></tbody>

        <tfoot>
        <tr id="addOpkomstRow" class="hidden add-row">
          <td colspan="999">+ Opkomst toevoegen</td>
        </tr>
        </tfoot>
      </table>
    </div>
  </section>

  <!-- LEDENBEHEER -->
  <section id="ledenbeheer" class="ledenbeheer hidden">
    <h2>Ledenbeheer</h2>

    <div class="ledenbeheer-columns">
      <div class="ledenbeheer-col">
        <h3>Jeugdleden</h3>
        <ul id="ledenbeheerJeugd"></ul>
      </div>
      <div class="ledenbeheer-col">
        <h3>Leiding</h3>
        <ul id="ledenbeheerLeiding"></ul>
      </div>
    </div>
  </section>

  <!-- MELDINGEN / INSTELLINGEN -->
  <section id="meldingen" class="meldingen hidden">
    <h2>Meldingen per e-mail</h2>

    <p class="meldingen-uitleg">
      Hier stel je in wanneer er meldingen verstuurd zouden moeten worden.
      De instellingen worden opgeslagen in de database. Voor het echt automatisch
      versturen van e-mails heb je wel nog een extra koppeling nodig
      (bijv. via Firebase Cloud Functions of een mailservice).
    </p>

    <div class="meldingen-row">
      <h3>Te weinig leiding aanwezig</h3>
      <label class="meldingen-label">
        <input type="checkbox" id="meldLeidingEnabled">
        Melding als er veel leiding afwezig is.
      </label>
      <div class="meldingen-sub">
        Melding als er meer dan
        <input type="number" id="meldLeidingThreshold" min="1" max="20" value="3">
        leiding op <strong>afwezig</strong> staat bij √©√©n opkomst.
      </div>
    </div>

    <div class="meldingen-row">
      <h3>Onbekende aanwezigheid</h3>
      <label class="meldingen-label">
        <input type="checkbox" id="meldOnbekendEnabled">
        Melding als aanwezigheid nog onbekend is.
      </label>
      <div class="meldingen-sub">
        Melding
        <input type="number" id="meldOnbekendDays" min="1" max="30" value="7">
        dagen voor een opkomst, als er nog leden of leiding op <strong>?</strong> staan.
      </div>
    </div>

    <button id="saveMeldingenButton" class="save-info-btn">
      Meldingen opslaan
    </button>
  </section>

</main>

<script type="module" src="speltak.js"></script>

</body>
</html>
